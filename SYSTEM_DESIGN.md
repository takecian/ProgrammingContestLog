# System design study

## システム設計を進め方

## システムの概要、要件をまとめる
* 誰が使うのか
* どのように使うのか
  * 想定ユーザーは何人くらいか
    * ユーザー認証をするか
  * 保存したいデータは何があるか
    * 読み書きの比率はどのくらいか
    * 秒間何リクエストくらい想定されるか 
  
* 概要から必要なデータ量、パフォーマンスを推測する
  * 保存するデータの１レコードあたりのサイズ
  * どれくらいの容量を捌く必要があるか
    * １レコードあたりのサイズ x 1日あたりのデータ数
    
## ハイレベルでのシステムデザインを作る
* どんなコンポーネントが存在するか
  * クライアント
  * ロードバランサー
  * Web サーバー(API サーバー)
  * DB
  * CDN
  * バッチサーバー
  
## 詳細設計
* コアになるデータベースのスキーマを決める
* データの生成方法など決める（ハッシュ化させるとか）

## スケール検討
* ボトルネックになりそうなところを割り出す
  * ロードバランサーが必要ではないか
  * 水平スケーリングする部分はないか
  * キャッシングした方がいい部分はないか
  * データベースシャーディングは必要か

* データ量が増えるとシステム上こまる部分は出てこないか
  * ハッシュを使うとすると衝突はどのくらいで起きるか
    * 起きた時どうするか

## Ref.
* https://www.hiredintech.com
* https://github.com/donnemartin/system-design-primer/blob/master/README-ja.md

