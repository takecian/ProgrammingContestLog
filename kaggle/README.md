# Kaggle study log

## Setup

```
brew install pipenv
pipenv install
```

## 用語
|用語|意味|
|:--|:--|
|変数|データレコードの各項目のこと。年齢とか性別、とか|
|目的変数|変数のうち知りたい項目のこと。「課金したかどうか」とか「住宅の値段」とか|

## 解析対象の種類

### テーブルデータ

GBDT(Gradient Boosting Decision Tree)が使われることが多い。

#### GDBT

* 数値の大小関係が結果に影響する
* 欠損値があってもOK（そのまま動作する）
* 決定木の分岐の繰り返しによって変数間の相互作用を反映する

### 時系列データ

## 特徴量の作成

### 変換することで作成
* 欠損値
   * 欠損していたかどうかの２値のフィールドを追加する方法もある
* 数値変数の変換
  * スケールを揃える為
    * 他の項目と比べてスケールが違いすぎるとニューラルネットとかだと精度が出ないことがある
    * StandardScaler を使う
    * 対数をとったりする
  * GBDT では意味がない
  * clipping(外れ値の除外）
    * 外れ値をある範囲の下限値、上限値に書き換える
  * binning
    * 数値変数をある区間ごとにグループ分けしてカテゴリ変数にしてしまう
* カテゴリ変数(enum)
単語やカテゴリ変数のような離散的な表現を実数ベクトルに変換する方法を embedding という
  * Label encoding
    * カテゴリ変数を連番で番号付与する
  * One hot encoding
    * カテゴリ変数の数だけカラム追加して０、１つける
  * Target encoding
    * 目的変数

  * カテゴリ変数の意味を抽出できないか考える
    * 例：ABC-00123、XYZ-1212 のような型番の場合は前半のアルファベットと後半の数字に分割してみる
  
* 日付、時刻
  * 学習データが2018年のもの、テストデータ（予測データ）が2019年のものの場合は「年」の情報を学習から除外する
  * それなりに長い期間の学習データがあるなら「月」を特徴量にすることで周期的な変動を捉えられるかもしれない
  * 人の行動に関連したデータの場合は曜日や休日（祝日）の要素が関連するかも
    * 休日かどうか、休前日かどうか、連休の何日目か
    * 正月、クリスマス、GW、thanks giving、旧正月
* 変数の組み合わせ
  * 複数の変数を組み合わせて変装同士の相互作用を表現する
    * 「物件の面積数」/「物件の部屋数」で「１部屋あたりの面積」を表現する

### 別のテーブルから結合
* 集計して統計量を取る
  * 平均(1商品あたりいくらのものを買っているか)、合計(全部でいくらの商品を買ったか)
* 時系列データ
  * 直近の行動、入会後最初に買った商品、頻度、滞在時間
* 他のテーブルとの結合

### 次元削減、教師なし学習

### その他のテクニック
